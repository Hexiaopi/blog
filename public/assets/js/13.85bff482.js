(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{601:function(t,a,s){t.exports=s.p+"assets/img/map.f9284e23.png"},632:function(t,a,s){"use strict";s.r(a);var n=s(11),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("mapæ˜¯Goè¯­è¨€æä¾›çš„ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ï¼Œå®ƒè¡¨ç¤ºä¸€ç»„æ— åºçš„é”®å€¼å¯¹(key-value)")])]),t._v(" "),n("h2",{attrs:{id:"å£°æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜"}},[t._v("#")]),t._v(" å£°æ˜")]),t._v(" "),n("p",[n("strong",[t._v("å…³é”®å­—å®šä¹‰")]),t._v("ï¼š"),n("code",[t._v("map")])]),t._v(" "),n("p",[n("strong",[t._v("é›¶å€¼")]),t._v("ï¼š"),n("code",[t._v("nil")])]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("ğŸ‘€")]),t._v(" "),n("ul",[n("li",[t._v("å‘"),n("code",[t._v("nil")]),t._v("çš„mapç±»å‹é‡Œæ·»åŠ æ•°æ®ä¼šå¯¼è‡´"),n("code",[t._v("panic")]),t._v("ï¼›")])]),t._v(" "),n("h2",{attrs:{id:"åˆå§‹åŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–"}},[t._v("#")]),t._v(" åˆå§‹åŒ–")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("å­—é¢é‡åˆå§‹åŒ–")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[t._v("m"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apple"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"banana"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])])]),t._v(" "),n("li",[n("p",[t._v("å†…ç½®å‡½æ•°make()åˆå§‹åŒ–")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[t._v("m"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])])])]),t._v(" "),n("h2",{attrs:{id:"æ“ä½œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ“ä½œ"}},[t._v("#")]),t._v(" æ“ä½œ")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[t._v("m"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apple"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ–°å¢")]),t._v("\nm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apple"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¿®æ”¹")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apple"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ é™¤")]),t._v("\nv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ok"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"banana"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æŸ¥è¯¢")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ok"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è·å–keyçš„ä¸ªæ•°")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])]),n("p",[t._v("ğŸ‘€")]),t._v(" "),n("ul",[n("li",[t._v("åˆ é™¤ä¸å­˜åœ¨çš„keyä¸ä¼šå¯¼è‡´panicï¼›")]),t._v(" "),n("li",[t._v("æŸ¥è¯¢ä¸å­˜åœ¨çš„keyï¼Œå¦‚æœæœªä½¿ç”¨â€œcomma okâ€è¯­æ³•ï¼Œåˆ™ä¼šè¿”å›valueç±»å‹çš„é›¶å€¼")])]),t._v(" "),n("h2",{attrs:{id:"å®ç°åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°åŸç†"}},[t._v("#")]),t._v(" å®ç°åŸç†")]),t._v(" "),n("p",[t._v("å‚è§"),n("code",[t._v("$GOROOT/src/runtime/map.go")])]),t._v(" "),n("h3",{attrs:{id:"mapçš„æ•°æ®ç»“æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mapçš„æ•°æ®ç»“æ„"}},[t._v("#")]),t._v(" mapçš„æ•°æ®ç»“æ„")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" hmap "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tcount     "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" \t\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å½“å‰ä¿å­˜çš„å…ƒç´ ä¸ªæ•°")]),t._v("\n\tflags     "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v("\t\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å½“å‰mapæ‰€å¤„çš„çŠ¶æ€æ ‡å¿—")]),t._v("\n\tB         "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v("  \t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//bucketæ•°ç»„çš„å¤§å°çš„å¯¹æ•°ï¼š2^B=bucketæ•°é‡")]),t._v("\n\tnoverflow "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),t._v(" \t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//overflow bucketsçš„å¤§çº¦æ•°é‡")]),t._v("\n\thash0     "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint32")]),t._v(" \t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//hashå‡½æ•°çš„ç§å­å€¼")]),t._v("\n\tbuckets    unsafe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Pointer \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æŒ‡å‘bucketæ•°ç»„çš„æŒ‡é’ˆ")]),t._v("\n\toldbuckets unsafe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Pointer \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åœ¨mapæ‰©å®¹é˜¶æ®µæŒ‡å‘å‰ä¸€ä¸ªbucketæ•°ç»„çš„æŒ‡é’ˆ")]),t._v("\n\tnevacuate  "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uintptr")]),t._v("        \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//mapæ‰©å®¹é˜¶æ®µå……å½“æ‰©å®¹è¿›åº¦è®¡æ•°å™¨,å°äºæ­¤bucketéƒ½å·²å®Œæˆäº†æ•°æ®æ’ç©ºå’Œè¿ç§»æ“ä½œ")]),t._v("\n\textra "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("mapextra \t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯é€‰å­—æ®µï¼Œä¸gcç›¸å…³")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h3",{attrs:{id:"bucketçš„æ•°æ®ç»“æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bucketçš„æ•°æ®ç»“æ„"}},[t._v("#")]),t._v(" bucketçš„æ•°æ®ç»“æ„")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//a bucket for a Go map")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" bmap "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ttophash "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("bucketCnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å®é™…ä¸Šç¼–è¾‘æœŸé—´ä¼šåŠ¨æ€ç”Ÿäº§ä¸€ä¸ªæ–°çš„ç»“æ„ä½“")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" bmap "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tophash  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v("\n  keys \t\t "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("keytype\n  values   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("valuetype\n  overflow "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uintptr")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:s(601),alt:""}})]),t._v(" "),n("p",[t._v("keyå’Œvalueåˆ†å¼€å­˜å‚¨ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘å†…å­˜å¯¹é½å¸¦æ¥çš„å†…å­˜æµªè´¹ï¼Œä»¥map[int8]int64ä¸ºä¾‹ï¼š")]),t._v(" "),n("p",[t._v("Keyå’Œvalueåˆ†å¼€ï¼Œå†…å­˜åˆ†é…å¦‚ä¸‹")]),t._v(" "),n("table",[n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[0]")]),t._v(" "),n("td",[t._v("key[1]")]),t._v(" "),n("td",[t._v("key[2]")]),t._v(" "),n("td",[t._v("key[3]")]),t._v(" "),n("td",[t._v("key[4]")]),t._v(" "),n("td",[t._v("key[5]")]),t._v(" "),n("td",[t._v("key[6]")]),t._v(" "),n("td",[t._v("key[7]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[0]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[1]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[2]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[3]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[4]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[5]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[6]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[7]")])])]),t._v(" "),n("p",[t._v("keyå’Œvalueä¸åˆ†å¼€ï¼Œå†…å­˜åˆ†é…å¦‚ä¸‹ï¼š")]),t._v(" "),n("table",[n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[0]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[0]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[1]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[1]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[2]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[2]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[3]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[3]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[4]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[4]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[5]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[5]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[6]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[6]")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",[t._v("key[7]")]),t._v(" "),n("td",{attrs:{colspan:"7"}},[t._v("padding")])]),t._v(" "),n("tr",{attrs:{align:"center"}},[n("td",{attrs:{colspan:"8"}},[t._v("value[7]")])])]),t._v(" "),n("p",[t._v("æ¯ä¸ªbucketå¯ä»¥å­˜å‚¨8ä¸ªé”®å€¼å¯¹ï¼Œè¶…è¿‡å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„bucketï¼Œé€šè¿‡overflowé“¾æ¥")]),t._v(" "),n("p",[t._v("å½“æœ‰ä¸¤ä¸ªæˆ–ä»¥ä¸Šæ•°é‡çš„é”®è¢«"),n("code",[t._v("Hash")]),t._v("åˆ°äº†åŒä¸€ä¸ªbucketæ—¶ï¼Œæˆ‘ä»¬ç§°è¿™äº›é”®å‘ç”Ÿäº†å†²çªï¼ŒGoè¯­è¨€ä½¿ç”¨é“¾è¡¨è§£å†³é”®å†²çªã€‚")]),t._v(" "),n("p",[t._v("hashå†²çªå¹¶ä¸æ˜¯å¥½äº‹æƒ…ï¼Œå®ƒé™ä½äº†å­˜å–æ•ˆç‡ï¼Œå¥½çš„Hashç®—æ³•å¯ä»¥ä¿è¯Hashå€¼å¾—éšæœºæ€§ï¼Œä½†æ— è®ºä½¿ç”¨å“ªç§Hashç®—æ³•ï¼Œå†²çªç»ˆç©¶ä¸å¯é¿å…ï¼Œå½“å†²çªè¾ƒå¤šçš„æ—¶å€™å°±éœ€è¦é‡‡å–ä¸€äº›æªæ–½æ¥å‡å°‘å†²çªã€‚")]),t._v(" "),n("h3",{attrs:{id:"è´Ÿè½½å› å­loadfactor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å› å­loadfactor"}},[t._v("#")]),t._v(" è´Ÿè½½å› å­LoadFactor")]),t._v(" "),n("blockquote",[n("p",[t._v("è´Ÿè½½å› å­ç”¨äºè¡¡é‡ä¸€ä¸ªHashè¡¨çš„å†²çªæƒ…å†µï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š")]),t._v(" "),n("p",[t._v("è´Ÿè½½å› å­ = é”®æ•°é‡ / bucketæ•°é‡")])]),t._v(" "),n("ul",[n("li",[t._v("è´Ÿè½½å› å­è¿‡å°ï¼Œç©ºé—´åˆ©ç”¨ç‡ä½ï¼›")]),t._v(" "),n("li",[t._v("è´Ÿè½½å› å­è¿‡å¤§ï¼Œè¯´æ˜å†²çªä¸¥é‡ï¼Œå­˜å–æ•ˆç‡ä½ï¼›")])]),t._v(" "),n("p",[t._v("å½“Hashè¡¨çš„è´Ÿè½½å› å­è¿‡å¤§æ—¶éœ€è¦rehashï¼Œå³ç”³è¯·æ›´å¤šçš„bucketï¼Œå¹¶å¯¹æ‰€æœ‰çš„é”®å€¼å¯¹é‡æ–°ç»„ç»‡ï¼Œä½¿å…¶å‡åŒ€çš„åˆ†å¸ƒåœ¨è¿™äº›bucketä¸­ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("redisçš„è´Ÿè½½å› å­å¤§äº1æ—¶å°±ä¼šè§¦å‘rehashï¼›")]),t._v(" "),n("li",[t._v("goçš„è´Ÿè½½å› å­å¤§äº6.5æ—¶æ‰ä¼šè§¦å‘rehashï¼›")])]),t._v(" "),n("h3",{attrs:{id:"æ‰©å®¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å®¹"}},[t._v("#")]),t._v(" æ‰©å®¹")]),t._v(" "),n("p",[t._v("æ¡ä»¶ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("è´Ÿè½½å› å­å¤§äº6.5æ—¶")]),t._v(" "),n("li",[t._v("overflowçš„æ•°é‡å¤§äº2^15=32768")])]),t._v(" "),n("h4",{attrs:{id:"å¢é‡æ‰©å®¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¢é‡æ‰©å®¹"}},[t._v("#")]),t._v(" å¢é‡æ‰©å®¹")]),t._v(" "),n("blockquote",[n("p",[t._v("é€šè¿‡å°†bucketæ•°ç»„æ‰©å¤§ä¸€å€å®ç°ï¼Œå¹¶æ¬è¿é”®å€¼å¯¹")])]),t._v(" "),n("ol",[n("li",[t._v("oldbucketsæŒ‡å‘ç°æœ‰bucketæ•°ç»„ï¼›")]),t._v(" "),n("li",[t._v("åˆ›å»ºä¸€ä¸ªä¸¤å€ç°æœ‰è§„æ¨¡çš„bucketæ•°ç»„ï¼›")]),t._v(" "),n("li",[t._v("bucketsæŒ‡å‘æ–°çš„bucketæ•°ç»„ï¼›")]),t._v(" "),n("li",[t._v("å°†oldbucketsçš„é”®å€¼å¯¹æ¬è¿åˆ°æ–°çš„bucketæ•°ç»„ï¼›")]),t._v(" "),n("li",[t._v("é‡Šæ”¾oldbucketsï¼›")])]),t._v(" "),n("h4",{attrs:{id:"ç­‰é‡æ‰©å®¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç­‰é‡æ‰©å®¹"}},[t._v("#")]),t._v(" ç­‰é‡æ‰©å®¹")]),t._v(" "),n("blockquote",[n("p",[t._v("ç”¨äºè§£å†³ä¸€ä¸ªbucketé“¾æ¥å¾ˆå¤šbucketï¼Œoverflowæ•°é‡è¿‡é«˜")]),t._v(" "),n("p",[t._v("bucketæ•°ç»„å¤§å°ä¸å˜ï¼Œé‡æ–°æ’åˆ—é”®å€¼å¯¹ï¼Œåˆ†æ•£åˆ°ä¸åŒçš„bucketæ•°ç»„ä¸­")])]),t._v(" "),n("h3",{attrs:{id:"å¢åˆ æ”¹æŸ¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¢åˆ æ”¹æŸ¥"}},[t._v("#")]),t._v(" å¢åˆ æ”¹æŸ¥")]),t._v(" "),n("h4",{attrs:{id:"æŸ¥æ‰¾è¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥æ‰¾è¿‡ç¨‹"}},[t._v("#")]),t._v(" æŸ¥æ‰¾è¿‡ç¨‹")]),t._v(" "),n("ul",[n("li",[t._v("æ ¹æ®keyè®¡ç®—hashå€¼ï¼›")]),t._v(" "),n("li",[t._v("å–hashå€¼ä½ä½ä¸hmap.Bå–æ¨¡æ¥ç¡®å®šbucketçš„ä½ç½®ï¼›")]),t._v(" "),n("li",[t._v("å–hashå€¼é«˜ä½ï¼Œåœ¨tophashæ•°ç»„ä¸­æŸ¥è¯¢ï¼›")]),t._v(" "),n("li",[t._v("å¦‚æœtophash[i]ä¸­å­˜å‚¨çš„hashå€¼ä¸å½“å‰keyçš„hashå€¼ç›¸ç­‰ï¼Œåˆ™è·å–tophash[i]çš„keyå€¼è¿›è¡Œæ¯”è¾ƒï¼›")]),t._v(" "),n("li",[t._v("å½“å‰bucketæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¾æ¬¡ä»æº¢å‡ºçš„bucketä¸­æŸ¥æ‰¾ï¼›")])]),t._v(" "),n("blockquote",[n("p",[t._v("å¦‚æœå½“å‰mapå¤„äºæ¬è¿è¿‡ç¨‹ä¸­ï¼Œé‚£ä¹ˆæŸ¥æ‰¾æ—¶ä»oldbucketsæ•°ç»„ä¸­æŸ¥æ‰¾ï¼Œä¸å†ä»æ–°çš„bucketsæ•°ç»„ä¸­æŸ¥æ‰¾")])]),t._v(" "),n("h4",{attrs:{id:"æ·»åŠ è¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ è¿‡ç¨‹"}},[t._v("#")]),t._v(" æ·»åŠ è¿‡ç¨‹")]),t._v(" "),n("ul",[n("li",[t._v("æ ¹æ®keyè®¡ç®—hashå€¼ï¼›")]),t._v(" "),n("li",[t._v("å–hashå€¼ä½ä½ä¸hmap.Bå–æ¨¡æ¥ç¡®å®šbucketçš„ä½ç½®ï¼›")]),t._v(" "),n("li",[t._v("æŸ¥æ‰¾è¯¥keyæ˜¯å¦å­˜åœ¨\n"),n("ul",[n("li",[t._v("å¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥æ›´æ–°ï¼›")]),t._v(" "),n("li",[t._v("å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä»è¯¥bucketä¸­å¯»æ‰¾ç©ºä½™ä½ç½®å¹¶æ’å…¥ï¼›")])])])]),t._v(" "),n("blockquote",[n("p",[t._v("å¦‚æœå½“å‰mapå¤„äºæ¬è¿è¿‡ç¨‹ä¸­ï¼Œé‚£ä¹ˆç›´æ¥æ·»åŠ åˆ°æ–°çš„bucketsæ•°ç»„ä¸­")])]),t._v(" "),n("h4",{attrs:{id:"åˆ é™¤è¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤è¿‡ç¨‹"}},[t._v("#")]),t._v(" åˆ é™¤è¿‡ç¨‹")]),t._v(" "),n("ul",[n("li",[t._v("æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨\n"),n("ul",[n("li",[t._v("å­˜åœ¨ï¼Œåˆ™åˆ é™¤ï¼›")]),t._v(" "),n("li",[t._v("ä¸å­˜åœ¨ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšï¼›")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);