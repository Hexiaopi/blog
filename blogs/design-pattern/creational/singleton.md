---
title: 单例模式
date: 2022-09-10
tags:
 - Go
 - 设计模式
categories:
 -  设计模式
---


## 单例模式(Singleton Pattern)

> 指一个类只有一个实例，且该类能自行创建这个实例的一种模式。
>
> 适用的情况：
>
> - DB实例--我们只想创建DB对象的一个实例，并且该实例将在整个应用程序中使用。
> - 日志实例--同样，只应创建一个日志实例，并应在整个应用程序中使用它。

### **特点**

1. 单例类只有一个实例对象；
2. 该单例对象必须由单例类自行创建；
3. 单例类对外提供一个访问该单例的全局访问点；

Go语言创建单例的办法

1. Sync.Mutex，在GetInstance方法中加锁
2. init()函数，引入singleton包时进行初始化
3. sync.Once，在GetInstance方法中调用once.Do