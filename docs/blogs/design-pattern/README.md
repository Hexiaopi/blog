---
title: 设计模式-简介
date: 2022-09-10
tags:
 - Go
 - 设计模式
categories:
 -  设计模式
---

:::tip
面向对象是武器，设计模式是招式，设计原则是心法
以心法为基础，以武器运用招式应对复杂的编程问题
:::

<!-- more -->

## 简介

设计模式最早来源于建筑领域，
克里斯托弗.亚历山大在作品《建筑的永恒之道》中这样说：
>“每个模式都描述了一个在我们的环境中不断出现的问题，然后描述了该问题的解决方案的核心，通过这种方式，我们可以无数次地重用那些已有的成功的解决方案，无须再重复相同的工作。”

之后四人组（Gang of Four），简称GoF将模式的概念应用在软件开发设计中，定义如下：
>
> 它是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。
>
> 它描述了在软件设计过程中的一些不断重复发生的问题，以及该问题的解决方案。

简单说，就是**解决特定问题的一系列解决方案**，是前辈们的代码设计经验的总结。

### 优点

- 可以提高程序员的思维能力、编程能力和设计能力。
- 使程序设计更加标准化、代码编制更加工程化，是软件开发效率大大提高，从而缩短软件的开发周期。
- 使设计的代码可重用性高、可读性强、可靠性高、灵活性好、可维护性强。

### 四要素

1. **模式名称**：每一个模式都有自己的名字，可以根据模式的问题、特点、解决方案、功能和效果来命名。
2. **问题**：描述了该模式的应用环境，即何时使用该模式。它解释了设计问题和问题存在的前因后果，以及满足的一些列先决条件。
3. **解决方案**：包括设计的组成成分、它们之间的相互关系以及各自的职责和协作方式。模式就像一个模板，可应用于多种不同场合，所以解决方案并不描述一个特定而具体的设计或实现，而是听过设计问题的抽象描述和怎样用一个具有一般意义的元素组合（类或对象的组合）来解决这个问题。
4. **效果**：描述了模式的应用效果以及使用该模式应该权衡的问题，即模式的优缺点。主要是对时间和空间的衡量，以及该模式对系统的灵活性、扩充性、可移植性的影响，也考虑其实现问题。显示地列出这些效果对理解和评价这些模式有很大的帮助。

## 分类

![分类](./images/design-pattern.png)

### 创建型设计模式

> 创建型设计模式是一种常用的设计模式，常用于对象的创建和初始化，这些模式描述了创建对象的不同方式，以及处理对象创建的方案。其中，常见的创建型设计模式有工厂方法模式、抽象工厂模式、建造者模式、原型模式和单例模式。这些设计模式之间有相同点和区别：

相同点：

- 它们的目的都是为了创建对象，并且都属于创建型设计模式。
- 它们在代码中的作用是降低程序的耦合度，提高代码的复用性和可维护性。
- 它们都能够很好地处理对象的创建和初始化，并且保证对象的唯一性或者一致性。

区别：

- 工厂方法模式和抽象工厂模式都是通过工厂类来创建对象，它们的区别在于抽象工厂模式中的工厂类可以创建多种不同类型的对象，而工厂方法模式只能创建一种对象。
- 建造者模式和原型模式都是在创建对象的时候，通过组合或者克隆已有的对象来创建新的对象。区别在于，建造者模式更加注重对象的创建过程，而原型模式更注重对象的复制和修改。
- 单例模式是一种特殊的创建型设计模式，它保证一个类只能创建一个对象，并提供了一个全局访问点。它的应用都是为了保证应用的总体性能，提高代码的复用性和可维护性。

### 结构型设计模式

> 结构型设计模式是一种软件设计模式，旨在解决对象之间的组合问题。这类模式通过建立对象之间的关系，使系统更加灵活，可维护和可扩展。结构型设计模式分为`类结构型模式`和`对象结构型模式`。

相同点：

- 重点关注类和对象之间的组合，并提供不同方式的组合方式以适应不同的情况
- 用于降低系统复杂度，并提高系统的可维护性和可扩展性
- 涉及到的模式都是经过验证的成熟的模式，具有广泛的适用性和实用性

区别：

- 类结构型模式关注类之间的组合，例如装饰器模式、适配器模式、代理模式等；而对象结构型模式关注对象之间的组合，例如组合模式、享元模式等。
- 类结构型模式更侧重于对象之间的静态关系，即在编译时期已经确定相关类之间的关系，而对象结构型模式更侧重于对象之间的动态关系，即在运行时期可以动态添加或移除对象。
- 类结构型模式的使用场景更为广泛，适用于不同的问题领域；而对象结构型模式更加专注于一些具体的问题场景。

### 行为型设计模式

> 行为型设计模式是一类用于处理对象之间交互、职责划分以及算法封装等问题的设计模式，这类设计模式关注的是对象之间的通信以及行为的分配，可以帮助解决对象之间职责不够清晰、相互依赖、难以复用等问题。

相同点：

- 都是属于设计模式中的一种类型，用于解决特定的问题。
- 都关注对象之间的交互，处理相应的行为和算法等问题。
- 都强调了面向对象设计中的一些重要概念，如职责划分、接口定义、封装、扩展等。

区别：

- 模式的目的不同。一些行为型设计模式旨在实现对象之间的解耦，而其他一些则旨在增加灵活性、可扩展性等。
- 模式所依据的概念不同。一些行为型设计模式主要依赖于继承实现，例如模板方法、解释器等。而另一些则主要依赖于对象的组合，例如策略、观察者、命令等。
- 模式的实现方式不同。不同的行为型设计模式有不同的实现方式和技巧。例如，命令模式可以采用队列实现撤销功能，策略模式可以使用工厂方法来创建策略对象等。
