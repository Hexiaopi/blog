(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{681:function(t,e,a){t.exports=a.p+"assets/img/MySQL-Architecture.fe170d91.png"},750:function(t,e,a){"use strict";a.r(e);var v=a(11),_=Object(v.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p"),v("div",{staticClass:"table-of-contents"},[v("ul",[v("li",[v("a",{attrs:{href:"#mysql架构"}},[t._v("MySQL架构")])]),v("li",[v("a",{attrs:{href:"#存储引擎"}},[t._v("存储引擎")]),v("ul",[v("li",[v("a",{attrs:{href:"#innodb引擎"}},[t._v("Innodb引擎")]),v("ul",[v("li",[v("a",{attrs:{href:"#特点"}},[t._v("特点")])]),v("li",[v("a",{attrs:{href:"#注意事项"}},[t._v("注意事项")])])])]),v("li",[v("a",{attrs:{href:"#myisam存储引擎"}},[t._v("MyISAM存储引擎")]),v("ul",[v("li",[v("a",{attrs:{href:"#特点"}},[t._v("特点")])]),v("li",[v("a",{attrs:{href:"#注意事项"}},[t._v("注意事项")])])])])])]),v("li",[v("a",{attrs:{href:"#引擎对比"}},[t._v("引擎对比")])])])]),v("p"),t._v(" "),v("blockquote",[v("p",[t._v("MySQL是常用的关系型数据库")])]),t._v(" "),v("h2",{attrs:{id:"mysql架构"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql架构"}},[t._v("#")]),t._v(" MySQL架构")]),t._v(" "),v("p",[v("img",{attrs:{src:a(681),alt:"MySQL架构"}})]),t._v(" "),v("h2",{attrs:{id:"存储引擎"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎"}},[t._v("#")]),t._v(" 存储引擎")]),t._v(" "),v("ul",[v("li",[t._v("存储引擎是MySQL区别于其他数据库的一个重要特性，MySQL有诸多存储引擎，且"),v("strong",[t._v("存储引擎是基于表的，而不是数据")]),t._v("(同一个数据库下面的各个表可以使用不同的引擎)")]),t._v(" "),v("li",[t._v("存储引擎是底层物理结构的实现，每个存储引擎开发者可以按照自己的意愿开发，具有各自的特点")]),t._v(" "),v("li",[t._v("对于MySQL使用者来说，存储引擎对其实透明的")])]),t._v(" "),v("h3",{attrs:{id:"innodb引擎"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#innodb引擎"}},[t._v("#")]),t._v(" Innodb引擎")]),t._v(" "),v("blockquote",[v("p",[t._v("是一个支持ACID事务，行锁设计，支持MVCC功能，实现了SQL标准的4种隔离级别")])]),t._v(" "),v("h4",{attrs:{id:"特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),v("ul",[v("li",[t._v("使用Table Space的方式仅限数据存储")]),t._v(" "),v("li",[t._v("支持事务、外键约束等数据库特性")]),t._v(" "),v("li",[t._v("Rows Level Lock，读写性能都非常优秀")]),t._v(" "),v("li",[t._v("拥有独立的缓冲池，能够缓存数据和索引")]),t._v(" "),v("li",[t._v("通过多版本控制，支持高并发业务")])]),t._v(" "),v("h4",{attrs:{id:"注意事项"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),v("ul",[v("li",[t._v("主键尽可能小，否则二级索引会膨胀")]),t._v(" "),v("li",[t._v("避免全表扫描，导致锁升级")]),t._v(" "),v("li",[t._v("尽可能缓存所有的索引和数据，减少IO操作")]),t._v(" "),v("li",[t._v("避免主键更新，造成大量的数据移动")])]),t._v(" "),v("h3",{attrs:{id:"myisam存储引擎"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#myisam存储引擎"}},[t._v("#")]),t._v(" MyISAM存储引擎")]),t._v(" "),v("blockquote",[v("p",[t._v("MySQL 5.5之前默认是MyISAM存储引擎，之后默认都改为InnoDB")])]),t._v(" "),v("h4",{attrs:{id:"特点-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特点-2"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),v("ul",[v("li",[t._v("数据存储方式简单，使用B-Tree进行索引，"),v("strong",[t._v("索引叶子节点存放数据的指针")])]),t._v(" "),v("li",[v("strong",[t._v("不支持一些数据库特性，比如事务、外键约束等")])]),t._v(" "),v("li",[v("strong",[t._v("Table Level Lock(表级别锁)")]),t._v("，性能稍差，更适合读多的操作")]),t._v(" "),v("li",[t._v("使用三个文件定义一个表：\n"),v("ul",[v("li",[v("code",[t._v(".MYi")]),t._v("：存储索引")]),t._v(" "),v("li",[v("code",[t._v(".MYD")]),t._v("：存储数据")]),t._v(" "),v("li",[v("code",[t._v(".frm")]),t._v("：存储表定义")])])]),t._v(" "),v("li",[t._v("少碎片、支持大文件、能够进行索引压缩")]),t._v(" "),v("li",[t._v("二进制层次的文件可以移植（Linux->Windows）")]),t._v(" "),v("li",[t._v("访问速度快，适合只读查询场景")])]),t._v(" "),v("h4",{attrs:{id:"注意事项-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#注意事项-2"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),v("ul",[v("li",[t._v("设置合适索引")]),t._v(" "),v("li",[t._v("启用延迟写入，尽量一次大批量写入，而非频繁写入")]),t._v(" "),v("li",[t._v("降低并发数，高并发使用排队机制")]),t._v(" "),v("li",[t._v("由于存储了Count字段，因此Count操作比较高效，但仅限不带条件")])]),t._v(" "),v("h2",{attrs:{id:"引擎对比"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#引擎对比"}},[t._v("#")]),t._v(" 引擎对比")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}},[t._v("存储引擎")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("特点")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("应用场景")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("InnoDB")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持事务、行锁、支持MVCC多版本并发控制、并发性高")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("OLTP")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("MyISAM")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("不支持事务、表锁、并发低、资源利用低，但具有高性能和低存储空间消耗的特点")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("适用于大量只读数据的应用场景")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Memory")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("数据存放在内存中、支持Hash和Btree索引、读取速度快")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("用于高并发、无需持久化的应用场景")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Archive")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("高度压缩、zlib无损数据压缩，较MyISAM8倍，不支持更新、删除索引")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("适用于存储大量历史数据")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Blackhole")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("不存储数据，同步时只写binlog")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("用于binlog转储")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("CSV")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("CSV格式，数据以文本文件形式存储")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("用于数据交换和数据迁移")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("NDB")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("MySQL的分布式存储引擎，支持分布式事务和高可用性，能够处理海量数据")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("集群存储")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}}),t._v(" "),v("td",{staticStyle:{"text-align":"center"}}),t._v(" "),v("td",{staticStyle:{"text-align":"center"}})])])])])}),[],!1,null,null,null);e.default=_.exports}}]);