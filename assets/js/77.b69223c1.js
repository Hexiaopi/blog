(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{819:function(s,t,e){"use strict";e.r(t);var a=e(11),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[s._v("Go语言项目业界公认的目录结构是怎样的❓")])]),s._v(" "),e("h2",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[s._v("#")]),s._v(" 目录结构")]),s._v(" "),e("blockquote",[e("p",[s._v("可以通过以下维度进行考量：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("命名清晰：目录命名需要简洁，清晰的表达出该目录实现的功能，做到一看到该目录名就知道是干嘛的；")])]),s._v(" "),e("li",[e("p",[s._v("功能明确：目录的功能必须明确，例如：api目录是接口服务、service目录是业务逻辑；")])]),s._v(" "),e("li",[e("p",[s._v("功能齐全：例如测试、构建、脚本、工具、文档等；")])])])]),s._v(" "),e("p",[s._v("这里参考Go语言公认项目目录"),e("a",{attrs:{href:"https://github.com/golang-standards/project-layout",target:"_blank",rel:"noopener noreferrer"}},[s._v("project-layout"),e("OutboundLink")],1),s._v("结构如下：")]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(".\n├── api\n├── assets\n├── build\n│   ├── ci\n│   └── package\n├── cmd\n│   └── _your_app_\n├── configs\n├── deployments\n├── docs\n├── examples\n├── githooks\n├── init\n├── internal\n│   ├── app\n│   │   └── _your_app_\n│   └── pkg\n│       └── _your_private_lib_\n├── pkg\n│   └── _your_public_lib_\n├── scripts\n├── test\n├── third_party\n├── tools\n├── vendor\n├── web\n│   ├── app\n│   ├── static\n│   └── template\n└── website\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("h2",{attrs:{id:"应用目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用目录"}},[s._v("#")]),s._v(" 应用目录")]),s._v(" "),e("h3",{attrs:{id:"api目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api目录"}},[s._v("#")]),s._v(" api目录")]),s._v(" "),e("blockquote",[e("p",[s._v("OpenAPI/Swagger规范、JSON模式文件、协议定义文件")])]),s._v(" "),e("h3",{attrs:{id:"cmd目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cmd目录"}},[s._v("#")]),s._v(" cmd目录")]),s._v(" "),e("blockquote",[e("p",[s._v("该项目的主要应用，Go语言以main函数文件作为程序入口。每个应用程序的目录名称应与执行文件的名称相匹配，例如："),e("code",[s._v("/cmd/myapp")])])]),s._v(" "),e("h3",{attrs:{id:"examples目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples目录"}},[s._v("#")]),s._v(" examples目录")]),s._v(" "),e("blockquote",[e("p",[s._v("应用程序和公共库的示例")])]),s._v(" "),e("h3",{attrs:{id:"internal目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#internal目录"}},[s._v("#")]),s._v(" internal目录")]),s._v(" "),e("blockquote",[e("p",[s._v("存放私有应用和库代码，如果一些代码，你不希望在其他在其他应用和库中被导入，可以放在internal目录下。而对于私有应用共享的代码可以放在/internal/pkg目录下。\n建议internal目录以各个组件的方式进行分层。")])]),s._v(" "),e("h3",{attrs:{id:"pkg目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pkg目录"}},[s._v("#")]),s._v(" pkg目录")]),s._v(" "),e("blockquote",[e("p",[s._v("与internal相反，该目录存放可供其他外部应用程序使用的库代码。")])]),s._v(" "),e("h3",{attrs:{id:"vendor目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vendor目录"}},[s._v("#")]),s._v(" vendor目录")]),s._v(" "),e("blockquote",[e("p",[s._v("该目录存放项目依赖，可通过"),e("code",[s._v("go mod vendor")]),s._v("创建。")])]),s._v(" "),e("p",[s._v("👀 注意")]),s._v(" "),e("p",[s._v("如果开发的是Go语言库，不要提交vendor依赖包")]),s._v(" "),e("h3",{attrs:{id:"test目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test目录"}},[s._v("#")]),s._v(" test目录")]),s._v(" "),e("blockquote",[e("p",[s._v("其他外部测试应用程序和测试数据。对于更大的项目，有一个数据子目录是有意义的。例如："),e("code",[s._v("/test/data")]),s._v("或者"),e("code",[s._v("/test/testdata")])])]),s._v(" "),e("p",[s._v("👀 注意")]),s._v(" "),e("p",[s._v("Go 也会忽略以“.”开头的目录或文件。或“_”，因此您可以更灵活地命名测试数据目录。")]),s._v(" "),e("h3",{attrs:{id:"third-party目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#third-party目录"}},[s._v("#")]),s._v(" third_party目录")]),s._v(" "),e("blockquote",[e("p",[s._v("外部帮助工具，分支代码或其他第三方应用。")])]),s._v(" "),e("h3",{attrs:{id:"tools目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tools目录"}},[s._v("#")]),s._v(" tools目录")]),s._v(" "),e("blockquote",[e("p",[s._v("该项目的支持工具")])]),s._v(" "),e("p",[s._v("👀 注意")]),s._v(" "),e("p",[s._v("这些工具可以从"),e("code",[s._v("pkg")]),s._v("和"),e("code",[s._v("internal")]),s._v("目录导入代码")]),s._v(" "),e("h3",{attrs:{id:"web目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web目录"}},[s._v("#")]),s._v(" web目录")]),s._v(" "),e("blockquote",[e("p",[s._v("前端代码存放目录，用来存放Web静态资源，服务端模块和单页应用（SPAs）")])]),s._v(" "),e("h3",{attrs:{id:"assets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#assets"}},[s._v("#")]),s._v(" assets")]),s._v(" "),e("blockquote",[e("p",[s._v("其他资产，例如：图像、徽标、CSS、JavaScript等")])]),s._v(" "),e("h3",{attrs:{id:"website"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#website"}},[s._v("#")]),s._v(" website")]),s._v(" "),e("blockquote",[e("p",[s._v("项目网站或者Github页面")])]),s._v(" "),e("h2",{attrs:{id:"项目管理目录与文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目管理目录与文件"}},[s._v("#")]),s._v(" 项目管理目录与文件")]),s._v(" "),e("h3",{attrs:{id:"build目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#build目录"}},[s._v("#")]),s._v(" build目录")]),s._v(" "),e("blockquote",[e("p",[s._v("打包和持续集成")]),s._v(" "),e("p",[s._v("将云 (AMI)、容器 (Docker)、操作系统（deb、rpm、pkg）包配置和脚本放在"),e("code",[s._v("/build/package")]),s._v("目录中。")]),s._v(" "),e("p",[s._v("将CI（travis、circle、drone）配置和脚本放在"),e("code",[s._v("/build/ci")]),s._v("目录中。")])]),s._v(" "),e("p",[s._v("👀 注意")]),s._v(" "),e("p",[s._v("一些 CI 工具（例如 Travis CI）对其配置文件的位置非常挑剔。尝试将配置文件放在/build/ci将它们链接到 CI 工具期望它们的位置的目录中（如果可能）。")]),s._v(" "),e("h3",{attrs:{id:"configs目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configs目录"}},[s._v("#")]),s._v(" configs目录")]),s._v(" "),e("blockquote",[e("p",[s._v("配置文件，例如这里可以存放confd或consul-template模版文件。")])]),s._v(" "),e("h3",{attrs:{id:"deployments目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deployments目录"}},[s._v("#")]),s._v(" deployments目录")]),s._v(" "),e("blockquote",[e("p",[s._v("IaaS、PaaS、系统和容器编排部署配置和模板（docker-compose、kubernetes/helm、mesos、terraform、bosh）。")])]),s._v(" "),e("p",[s._v("👀 注意")]),s._v(" "),e("p",[s._v("在某些存储库（尤其是使用 kubernetes 部署的应用程序）中，此目录称为"),e("code",[s._v("deploy")]),s._v(".")]),s._v(" "),e("h3",{attrs:{id:"init目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#init目录"}},[s._v("#")]),s._v(" init目录")]),s._v(" "),e("blockquote",[e("p",[s._v("系统初始化（systemd、upstart、sysv）和进程管理器(runit、supervisord)配置文件，在非容器化部署的项目中会使用到。")])]),s._v(" "),e("p",[s._v("例如：systemd的unit文件，用于管理程序，一般以.service结尾")]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[Unit]\nDescription=OpenSSH server daemon\nDocumentation=man:sshd(8) man:sshd_config(5)\nAfter=network.target sshd-keygen.target\nWants=sshd-keygen.target\n\n[Service]\nType=notify\nEnvironmentFile=-/etc/crypto-policies/back-ends/opensshserver.config\nEnvironmentFile=-/etc/sysconfig/sshd\nExecStart=/usr/sbin/sshd -D $OPTIONS $CRYPTO_POLICY\nExecReload=/bin/kill -HUP $MAINPID\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h3",{attrs:{id:"scripts目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scripts目录"}},[s._v("#")]),s._v(" scripts目录")]),s._v(" "),e("blockquote",[e("p",[s._v("执行各种构建、安装、分析等操作的脚本。这些脚本使根级 Makefile 小而简单")])]),s._v(" "),e("p",[s._v("例如: "),e("a",{attrs:{href:"https://github.com/hashicorp/terraform/blob/master/Makefile",target:"_blank",rel:"noopener noreferrer"}},[s._v("terraform-website"),e("OutboundLink")],1),s._v("使用了很多scipts目录下的脚本，使得Makefile小但功能强大。")]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('WEBSITE_REPO=github.com/hashicorp/terraform-website\nVERSION?="0.3.44"\nPWD=$$(pwd)\nDOCKER_IMAGE="hashicorp/terraform-website:full"\nDOCKER_IMAGE_LOCAL="hashicorp-terraform-website-local"\nDOCKER_RUN_FLAGS=--interactive \\\n\t--rm \\\n\t--tty \\\n\t--workdir "/website" \\\n\t--volume "$(shell pwd):/website/ext/terraform" \\\n\t--volume "$(shell pwd)/website:/website/preview" \\\n\t--publish "3000:3000" \\\n\t-e "IS_CONTENT_PREVIEW=true" \\\n\t-e "PREVIEW_FROM_REPO=terraform" \\\n\t-e "NAV_DATA_DIRNAME=./preview/data" \\\n\t-e "CONTENT_DIRNAME=./preview/docs" \\\n\t-e "CURRENT_GIT_BRANCH=$$(git rev-parse --abbrev-ref HEAD)"\n\n# generate runs `go generate` to build the dynamically generated\n# source files, except the protobuf stubs which are built instead with\n# "make protobuf".\ngenerate:\n\tgo generate ./...\n\n# We separate the protobuf generation because most development tasks on\n# Terraform do not involve changing protobuf files and protoc is not a\n# go-gettable dependency and so getting it installed can be inconvenient.\n#\n# If you are working on changes to protobuf interfaces, run this Makefile\n# target to be sure to regenerate all of the protobuf stubs using the expected\n# versions of protoc and the protoc Go plugins.\nprotobuf:\n\tgo run ./tools/protobuf-compile .\n\nfmtcheck:\n\t"$(CURDIR)/scripts/gofmtcheck.sh"\n\nimportscheck:\n\t"$(CURDIR)/scripts/goimportscheck.sh"\n\nstaticcheck:\n\t"$(CURDIR)/scripts/staticcheck.sh"\n\nexhaustive:\n\t"$(CURDIR)/scripts/exhaustive.sh"\n\n# Default: run this if working on the website locally to run in watch mode.\nwebsite:\n\t@echo "==> Downloading latest Docker image..."\n\t@docker pull ${DOCKER_IMAGE}\n\t@echo "==> Starting website in Docker..."\n\t@docker run ${DOCKER_RUN_FLAGS} ${DOCKER_IMAGE} npm start\n\nwebsite/local:\n\t@echo "==> Starting website in Docker..."\n\t@docker run ${DOCKER_RUN_FLAGS} ${DOCKER_IMAGE_LOCAL} npm start\n\n.PHONY: website/build-local\nwebsite/build-local:\n\t@echo "==> Building local Docker image"\n\t@docker build https://github.com/hashicorp/terraform-website.git\\#master \\\n\t\t-t $(DOCKER_IMAGE_LOCAL)\n\n# disallow any parallelism (-j) for Make. This is necessary since some\n# commands during the build process create temporary files that collide\n# under parallel conditions.\n.NOTPARALLEL:\n\n.PHONY: fmtcheck importscheck generate protobuf website website-test staticcheck website/local website/build-local\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br"),e("span",{staticClass:"line-number"},[s._v("69")]),e("br")])]),e("h3",{attrs:{id:"githooks目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#githooks目录"}},[s._v("#")]),s._v(" githooks目录")]),s._v(" "),e("blockquote",[e("p",[s._v("Git钩子，比如可以将commit-msg存放在该目录")])]),s._v(" "),e("h3",{attrs:{id:"makefile文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#makefile文件"}},[s._v("#")]),s._v(" Makefile文件")]),s._v(" "),e("blockquote",[e("p",[s._v("Makefile是一个很优秀的项目管理工具，通常用来执行静态代码检查、单元测试、编译等功能")])]),s._v(" "),e("ul",[e("li",[s._v("静态代码检查(lint)：推荐用 golangci-lint。")]),s._v(" "),e("li",[s._v("单元测试(test)：运行 go test ./...。")]),s._v(" "),e("li",[s._v("编译(build)：编译源码，支持不同的平台，不同的 CPU 架构。")]),s._v(" "),e("li",[s._v("镜像打包和发布(image/image.push)：现在的系统比较推荐用 Docker/Kubernetes 进行部署，所以一般也要有镜像构建功能。")]),s._v(" "),e("li",[s._v("清理（clean）:清理临时文件或者编译后的产物。")]),s._v(" "),e("li",[s._v("代码生成（gen）：比如要编译生成 protobuf pb.go 文件。")]),s._v(" "),e("li",[s._v("部署（deploy，可选）：一键部署功能，方便测试。")]),s._v(" "),e("li",[s._v("发布（release）：发布功能，比如：发布到 Docker Hub、github 等。")]),s._v(" "),e("li",[s._v("帮助（help）:告诉 Makefile 有哪些功能，如何执行这些功能。")]),s._v(" "),e("li",[s._v("版权声明（add-copyright）：如果是开源项目，可能需要在每个文件中添加版权头，这可以通过 Makefile 来添加。")]),s._v(" "),e("li",[s._v("API 文档（swagger）：如果使用 swagger 来生成 API 文档，这可以通过 Makefile 来生成。")])]),s._v(" "),e("h2",{attrs:{id:"文档目录与文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档目录与文件"}},[s._v("#")]),s._v(" 文档目录与文件")]),s._v(" "),e("h3",{attrs:{id:"docs目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docs目录"}},[s._v("#")]),s._v(" docs目录")]),s._v(" "),e("blockquote",[e("p",[s._v("设计和用户文档，除了"),e("code",[s._v("godoc")]),s._v("生成的文档之外")])]),s._v(" "),e("ul",[e("li",[s._v("/docs/devel/{en-US,zh-CN}: 存放开发文档、hack文档")]),s._v(" "),e("li",[s._v("/docs/guide/{en-US,zh-CN}: 存放用户手册，安装、quickstart、产品文档等")]),s._v(" "),e("li",[s._v("/docs/image: 存放图片文件")])]),s._v(" "),e("h3",{attrs:{id:"changelog目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changelog目录"}},[s._v("#")]),s._v(" CHANGELOG目录")]),s._v(" "),e("blockquote",[e("p",[s._v("当项目有更新时，为了方便了解当前版本的更新内容或者历史更新内容，需要将更新记录存放到CHANGELOG目录。")])]),s._v(" "),e("p",[s._v("编写CHANGELOG是一个繁琐的工作，我们可以结合"),e("a",{attrs:{href:"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines",target:"_blank",rel:"noopener noreferrer"}},[s._v("Angular规范"),e("OutboundLink")],1),s._v("和"),e("a",{attrs:{href:"https://github.com/git-chglog/git-chglog",target:"_blank",rel:"noopener noreferrer"}},[s._v("git-chglog工具"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"contributing-md文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contributing-md文件"}},[s._v("#")]),s._v(" CONTRIBUTING.md文件")]),s._v(" "),e("blockquote",[e("p",[s._v("开源项目用于说明如何贡献代码，如何开源协同等。")])]),s._v(" "),e("h3",{attrs:{id:"license文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license文件"}},[s._v("#")]),s._v(" LICENSE文件")]),s._v(" "),e("blockquote",[e("p",[s._v("版权文件，常用的开源协议有：Apache 2.0、MIT、GPL等")])]),s._v(" "),e("p",[s._v("为了声明版权，你可能会需要将LICENSE头添加到源代码文件或者其他文件中，可以尝试使用这个工具自动化实现："),e("a",{attrs:{href:"https://github.com/marmotedu/addlicense",target:"_blank",rel:"noopener noreferrer"}},[s._v("addlicense"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("当代码中引用了其他开源代码时，需要在LICENSE中说明对其他源码的引用，可以借助工具来进行检查："),e("a",{attrs:{href:"https://github.com/ribice/glice",target:"_blank",rel:"noopener noreferrer"}},[s._v("glice"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("+---------------------------------------+-----------------------------------------------+--------------+\n|              DEPENDENCY               |                    REPOURL                    |   LICENSE    |\n+---------------------------------------+-----------------------------------------------+--------------+\n| github.com/dgrijalva/jwt-go           | https://github.com/dgrijalva/jwt-go           | MIT          |\n| github.com/golang/mock                | https://github.com/golang/mock                | Apache-2.0   |\n| github.com/gorilla/mux                | https://github.com/gorilla/mux                | bsd-3-clause |\n| github.com/jinzhu/gorm                | https://github.com/jinzhu/gorm                | MIT          |\n| github.com/opentracing/opentracing-go | https://github.com/opentracing/opentracing-go | Apache-2.0   |\n| github.com/sirupsen/logrus            | https://github.com/sirupsen/logrus            | MIT          |\n| github.com/stretchr/testify           | https://github.com/stretchr/testify           | MIT          |\n| github.com/swaggo/http-swagger        | https://github.com/swaggo/http-swagger        | MIT          |\n| github.com/swaggo/swag                | https://github.com/swaggo/swag                | MIT          |\n| github.com/uber/jaeger-client-go      | https://github.com/uber/jaeger-client-go      | Apache-2.0   |\n| gopkg.in/yaml.v2                      |                                               |              |\n+---------------------------------------+-----------------------------------------------+--------------+\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h3",{attrs:{id:"readme-md文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#readme-md文件"}},[s._v("#")]),s._v(" README.md文件")]),s._v(" "),e("blockquote",[e("p",[s._v("项目的README文件一般包含了项目的介绍、功能、快速安装和使用指引、详细的文档链接以及开发指引。")])]),s._v(" "),e("p",[s._v("有时候README文档比较长，可以借助工具"),e("a",{attrs:{href:"https://github.com/nochso/tocenize",target:"_blank",rel:"noopener noreferrer"}},[s._v("tocenize"),e("OutboundLink")],1),s._v("来添加markdown toc索引")]),s._v(" "),e("h2",{attrs:{id:"不应该拥有的目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#不应该拥有的目录"}},[s._v("#")]),s._v(" 不应该拥有的目录")]),s._v(" "),e("h3",{attrs:{id:"src"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src"}},[s._v("#")]),s._v(" src")]),s._v(" "),e("blockquote",[e("p",[s._v("Go语言的工作空间包含："),e("code",[s._v("pkg")]),s._v("、"),e("code",[s._v("bin")]),s._v("、"),e("code",[s._v("src")]),s._v("。且项目代码放在"),e("code",[s._v("src")]),s._v("目录下，如果一个Go项目包含"),e("code",[s._v("src")]),s._v("目录，则项目路径将会变成："),e("code",[s._v("/some/path/to/workspace/src/your_project/src/your_code.go")]),s._v("，就变得非常丑。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);